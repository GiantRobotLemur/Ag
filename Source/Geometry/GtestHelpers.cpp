//! @file Geometry/GtestHelpers.cpp
//! @brief The definition of functions to integrate the geometry module with
//! the Google Test infrastructure.
//! @author GiantRobotLemur@na-se.co.uk
//! @date 2024
//! @copyright This file is part of the Silver (Ag) project which is released
//! under LGPL 3 license. See LICENSE file at the repository root or go to
//! https://github.com/GiantRobotLemur/Ag for full license details.
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Header File Includes
////////////////////////////////////////////////////////////////////////////////
#include "GtestHelpers.hpp"

#include "Ag/Geometry/Angle.hpp"
#include "Ag/Geometry/Point2D.hpp"
#include "Ag/Geometry/SnapPoint.hpp"
#include "Ag/Geometry/DCEL.hpp"

////////////////////////////////////////////////////////////////////////////////
// Macro Definitions
////////////////////////////////////////////////////////////////////////////////

namespace Ag {
namespace Geom {

namespace {
////////////////////////////////////////////////////////////////////////////////
// Local Data Types
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Local Data
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// Local Functions
////////////////////////////////////////////////////////////////////////////////

} // Anonymous namespace

////////////////////////////////////////////////////////////////////////////////
// Global Function Definitions
////////////////////////////////////////////////////////////////////////////////
::testing::AssertionResult isNear(const SnapContext &grid, const Point2D &lhs,
                                  const Point2D &rhs)
{
    SnapPoint gridLhs = grid.snapPoint(lhs);
    SnapPoint gridRhs = grid.snapPoint(rhs);

    if (gridLhs != gridRhs)
    {
        return ::testing::AssertionFailure() << "Point " << lhs <<
            " is not near enough to point " << rhs;
    }

    return ::testing::AssertionSuccess();
}



}} // namespace Ag::Geom
////////////////////////////////////////////////////////////////////////////////

